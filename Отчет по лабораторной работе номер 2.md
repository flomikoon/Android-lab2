# Цели
 - Ознакомиться с жизненным циклом Activity
 - Изучить основные возможности и свойства alternative resources
# Программа работы
2.1. Задача 1. Activity
 Продемонстрируйте жизненный цикл Activity на любом нетривиальном примере.
 - Выключение телефона:
При открытии приложения происходят вызовы методов onCreate(), onStart() и onResume().
Когда пользователь выключает телефон вызываются методы onPause() и onStop(), после чего телефон выключается.
![logo](https://i.ibb.co/cFgKWk3/image.png)

 - Совершение вызова на телефон
Когда пользователю звонят, происходит вызов метода onPause() и onStop(). При возврате в приложения вызываются методы onRestart(), onStart() и onResume().

![logo](https://i.ibb.co/n1SvsZ9/image.png)

2.2. Задача 2. Alternative Resources
 Продемонстрируйте работу альтернативного ресурса (тип ресурса согласно варианту) на каком-либо примере.
 - Вариант Platform Version (API level)
Для демонстрации работы альтернативного ресурса были созданы два layout-ресурса

![logo](https://i.ibb.co/sVjvX0Q/image.png)

Запущенное приложение на устройствах с API v24 и API v30
![logo](https://i.ibb.co/6s3sTQq/image.png)

В папке activity_main находятся два xml файла с одинаковыми названиями и разными конфигурациями. При запуске приложения выбирается файл, соответствующий конфигурации устройства

2.3. Задача 3. Best-matching resource
 - Для заданного набора альтернативных ресурсов, предоставляемых приложением, и заданной конфигурации устройства (оба параметра согласно варианту) объясните, какой ресурс будет выбран в конечном итоге. Ответ докажите.

Конфигурация устройства:
LOCALE_LANG: en

LOCALE_REGION: rCA

SCREEN_SIZE: small

SCREEN_ASPECT: notlong

ROUND_SCREEN: round

ORIENTATION: port

UI_MODE: television

NIGHT_MODE: night

PIXEL_DENSITY: xxxhdpi

TOUCH: notouch

PRIMARY_INPUT: qwerty

NAV_KEYS: nonav

PLATFORM_VER: v25


Конфигурация ресурсов:

(default)

en-xxxhdpi-dpad-v25

fr-rFR-long-port-car-xxxhdpi-v26

en-normal-qwerty-trackball

small-v25

port-tvdpi-nonav

rCA-round-qwerty

fr-rUS-xlarge-round-xxhdpi-dpad

12key-v25

normal-round-port-notouch-nokeys-wheel-v26

rFR-small-night-finger-nokeys-wheel


Следуя алгоритму для best-matching resource:

![logo](https://i.ibb.co/DpQqzjF/image.png)

Остаётся один ресурс, который и будет выбран: rCa-round-qwerty.

.4. Задача 4. Сохранение состояние Activity
 - Студент написал приложение continuewatch. Это приложение по заданию должно считать, сколько секунд пользователь провел в этом приложении. Найдите ошибки в этом приложении и исправьте их.
 
Найденные ошибки: приложение не сохраняет значение секундомера после закрытия приложения и поворота экрана (при каждом вызове метода onCreate() значение секундомера обнуляется). Также, приложение продолжает считать, когда оно не активно (после вызова методов onPause() и onStop()).

 - Решение: чтобы значение секундомера сохранялось при выходе из приложения (а также при повороте экрана) добавлен экземпляр класса SharedPreferences. В методе onPause() в данный экземпляр записывается текущее значение секундомера, а в методе onResume() это значение «достается». Чтобы поток, создаваемый в onResume(), мог завершиться, и, соответственно, секундомер переставал считать, добавлен флаг, значение которого задается равным true в методе onResume() и false в методе onPause()

# Вывод

В ходе выполнения лабораторной работы мы изучили: жизненный цикл Activity, основные возможности и свойства Alternative resources, алгоритм для выбора best-matching resource. Также, мы искали ошибки, связанные с жизненным циклом activity, и еамм нужно было исправить данные ошибки, что и было успешко сделанно.

 # Приложение
![logo](https://i.ibb.co/WB1C4mz/image.png)

![logo](https://i.ibb.co/bsGqX0G/image.png)
